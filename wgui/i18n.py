from __future__ import annotations

from flask import g


SUPPORTED_LANGS = ["en", "tr"]


_STRINGS = {
    "en": {},
    "tr": {
        "WGUI": "WGUI",
        "Users": "Kullanıcılar",
        "Email": "E-posta",
        "Schedule": "Zamanlama",
        "Audit": "Kayıtlar",
        "Backup": "Yedek",
        "Restore": "Geri Yükle",
        "Account": "Hesap",
        "Change Password": "Şifreyi Değiştir",
        "Change Email": "E-postayı Değiştir",
        "Logout": "Çıkış",
        "Add": "Ekle",
        "Edit": "Düzenle",
        "Delete": "Sil",
        "Download": "İndir",
        "Copy": "Kopyala",
        "Copied": "Kopyalandı",
        "Actions": "İşlemler",
        "Name": "Ad",
        "Data": "Veri",
        "Description": "Açıklama",
        "Added By": "Ekleyen",
        "Search": "Ara",
        "Clear": "Temizle",
        "Cleanup Schedule (Daily)": "Temizlik Zamanlaması (Günlük)",
        "Save Cleanup Schedule": "Temizlik Zamanlamasını Kaydet",
        "Run Cleanup Now": "Şimdi Temizliği Çalıştır",
        "Next cleanup run:": "Sonraki temizlik zamanı:",
        "Backup Schedule (Daily)": "Yedekleme Zamanlaması (Günlük)",
        "Save Backup Schedule": "Yedekleme Zamanlamasını Kaydet",
        "Run Backup Now": "Şimdi Yedekle",
        "Next backup run:": "Sonraki yedekleme zamanı:",
        "Latest backup:": "En son yedek:",
        "No backups found.": "Yedek bulunamadı.",
        "Audit Purge Schedule (Daily)": "Kayıt Temizleme Zamanlaması (Günlük)",
        "Save Audit Purge Schedule": "Kayıt Temizlemeyi Kaydet",
        "Next audit purge run:": "Sonraki kayıt temizleme zamanı:",
        "Backup folder (read-only):": "Yedek klasörü (salt-okunur):",
        "Number of most recent backups to keep.": "Saklanacak son yedek sayısı.",
        "Number of days to retain audit logs.": "Kayıtların saklanacağı gün sayısı.",
        "Hour (0-23)": "Saat (0-23)",
        "Minute (0-59)": "Dakika (0-59)",
        "Backup Hour (0-23)": "Yedekleme Saati (0-23)",
        "Backup Minute (0-59)": "Yedekleme Dakikası (0-59)",
        "Audit Purge Hour (0-23)": "Kayıt Temizleme Saati (0-23)",
        "Audit Purge Minute (0-59)": "Kayıt Temizleme Dakikası (0-59)",
        "Keep Last N Backups": "Son N Yedeği Sakla",
        "Audit Retention (days)": "Kayıt Saklama (gün)",
        "Login": "Giriş",
        "Username": "Kullanıcı Adı",
        "Password": "Şifre",
        "Save": "Kaydet",
        "Close": "Kapat",
        "Open": "Aç",
        "Home": "Ana Sayfa",
        "Search all lists": "Tüm listelerde ara",
        "Searches by substring across all entries": "Tüm girdilerde alt dizeye göre arar",
        "Search Results for": "Arama Sonuçları",
        "Entry": "Kayıt",
        "List": "Liste",
        "Date": "Tarih",
        "Open": "Aç",
        "View": "Görüntüle",
        "No matches found.": "Eşleşme bulunamadı.",
        "Upcoming deletions (Top 10)": "Yaklaşan silmeler (İlk 10)",
        "Expires On": "Bitiş Tarihi",
        "No upcoming entries.": "Yakında silinecek kayıt yok.",
        "Will be deleted in 3 days": "3 gün içinde silinecek",
        "Will be deleted in 1 week": "1 hafta içinde silinecek",
        "Will be deleted in 1 month": "1 ay içinde silinecek",
        "No entries.": "Kayıt yok.",
        "All actions": "Tüm işlemler",
        "Target Name": "Hedef Adı",
        "Per page": "Sayfa başına",
        "Filter": "Filtrele",
        "Time": "Zaman",
        "User": "Kullanıcı",
        "Action": "Eylem",
        "Target": "Hedef",
        "Showing": "Gösterilen",
        "of": "toplam",
        "Prev": "Önceki",
        "Next": "Sonraki",
        "Page": "Sayfa",
        "Separate multiple addresses with commas.": "Birden fazla adresi virgülle ayırın.",
        "Delete this list and all its items?": "Bu listeyi ve tüm öğelerini silmek istiyor musunuz?",
        "Backup & Restore": "Yedek ve Geri Yükle",
        "Create Backup": "Yedek Oluştur",
        "Exports users, lists and items, email settings, schedule settings, and audit logs as a JSON file.": "Kullanıcıları, listeleri ve öğeleri, e-posta ve zamanlama ayarlarını ve kayıtları JSON dosyası olarak dışa aktarır.",
        "Download Backup": "Yedeği İndir",
        "Restore Backup": "Yedeği Geri Yükle",
        "Restores all data from a previously downloaded JSON backup. This will overwrite existing Users, Lists, Items, Email and Schedule settings, and Audits.": "Önceden indirilen JSON yedeğinden tüm verileri geri yükler. Mevcut kullanıcılar, listeler, öğeler, e-posta ve zamanlama ayarları ve kayıtlar üzerine yazılacaktır.",
        "This will overwrite existing data. Continue?": "Mevcut verilerin üzerine yazılacak. Devam edilsin mi?",
        "The server could not process your request.": "Sunucu isteğinizi işleyemedi.",
        "The requested page was not found.": "İstenen sayfa bulunamadı.",
        "Internal server error.": "Sunucu hatası.",
        "An unexpected error occurred.": "Beklenmeyen bir hata oluştu.",
        # Audit action names
        "new list added": "yeni liste eklendi",
        "list deleted": "liste silindi",
        "list edited": "liste düzenlendi",
        "item added": "öğe eklendi",
        "item deleted": "öğe silindi",
        "item edited": "öğe düzenlendi",
        "user added": "kullanıcı eklendi",
        "user deleted": "kullanıcı silindi",
        "email settings updated": "e-posta ayarları güncellendi",
        "schedule updated": "zamanlama güncellendi",
        "backup schedule updated": "yedekleme zamanlaması güncellendi",
        "audit purge schedule updated": "kayıt temizleme zamanlaması güncellendi",
        "audit retention updated": "kayıt saklama süresi güncellendi",
        "cleanup job run": "temizlik görevi çalıştırıldı",
        "backup created": "yedek oluşturuldu",
        "backup settings updated": "yedekleme ayarları güncellendi",
        "audit logs purged": "kayıtlar temizlendi",
        "login success": "giriş başarılı",
        "login failed": "giriş başarısız",
        "logout": "çıkış yapıldı",
        "user email changed": "kullanıcı e-postası değiştirildi",
        "user password changed": "kullanıcı şifresi değiştirildi",
        "backup downloaded": "yedek indirildi",
        "backup restored": "yedek geri yüklendi",
        "list exported": "liste dışa aktarıldı",
    },
}


def get_locale() -> str:
    loc = getattr(g, "locale", None)
    if loc in SUPPORTED_LANGS:
        return loc
    return "en"


def gettext(message: str) -> str:
    lang = get_locale()
    return _STRINGS.get(lang, {}).get(message, message)


_ = gettext
